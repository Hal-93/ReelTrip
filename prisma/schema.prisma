generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Season {
  SPIRING
  SUMMER
  AUTUMN
  WINTER
}

enum AccountType {
  ADMIN
  OFFICIAL
  GENERAL
}

model User {
  id          String   @id @default(cuid())
  firebaseUid String   @unique
  email       String   @unique
  type        AccountType @default(GENERAL)
  name        String?
  avatar      String?
  files       File[]
  createdAt   DateTime @default(now())
}

model Picture {
  id          String   @id @default(cuid())
  createdAt   DateTime
  lat         Float
  lng         Float
  location    String
  season      Season
  price       Int
  userId      String  
}

model File {
  id           String @id @default(cuid())
  fileName     String
  objectName   String @unique
  downloadLink String

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  userId       String
  user         User   @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}
